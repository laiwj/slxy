{"version":3,"sources":["webpack:///./src/modules/about/about.js"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH,EAAC,gJ","file":"8.chunk.76f66351.js","sourcesContent":["/**\r\n * Created by WangMing on 15/12/9.\r\n */\r\ndefine([], function () {\r\n  var validationVM;\r\n  function showError(el, data) {\r\n    var next = el.parentNode.lastChild;\r\n    if (!(next && next.className === \"error-tip\")) {\r\n      next = document.createElement(\"div\");\r\n      next.className = \"error-tip\";\r\n      el.parentNode.appendChild(next);\r\n    }\r\n    next.innerHTML = data.getMessage();\r\n  }\r\n\r\n  function removeError(el) {\r\n    var next = el.parentNode.lastChild;\r\n    if (next && next.className === \"error-tip\") {\r\n      el.parentNode.removeChild(next);\r\n    }\r\n  }\r\n\r\n  // 定义所有相关的vmodel\r\n  var vm = avalon.define({\r\n    $id: \"about\",\r\n    name: \"\",\r\n    idcard: \"\",\r\n    phone: \"\",\r\n    $skipArray: [\"validation\"],\r\n    reset: function () {\r\n      validationVM && validationVM.resetAll()\r\n    },\r\n    validation: {\r\n      onInit: function (v) {\r\n        validationVM = v;\r\n      },\r\n      onReset: function (e, data) {\r\n        //data.valueResetor && data.valueResetor();\r\n        avalon(this).removeClass(\"error success\");\r\n        removeError(this);\r\n      },\r\n      onError: function (reasons) {\r\n        reasons.forEach(function (reason) {\r\n          avalon(this).removeClass(\"success\").addClass(\"error\");\r\n          showError(this, reason);\r\n        }, this)\r\n      },\r\n      onSuccess: function () {\r\n        avalon(this).removeClass(\"error\").addClass(\"success\");\r\n        removeError(this);\r\n      },\r\n      onValidateAll: function (reasons) {\r\n        reasons.forEach(function (reason) {\r\n          avalon(reason.element).removeClass(\"success\").addClass(\"error\");\r\n          showError(reason.element, reason);\r\n          // console.log(\"验证中\");\r\n\r\n        });\r\n        if (reasons.length === 0) {\r\n          //avalon.log(\"全部验证成功！\");\r\n        }\r\n      }\r\n    },\r\n    show: function (id) {\r\n      validationVM.resetAll();\r\n      var dialog = avalon.vmodels[id];\r\n      if (!dialog) {\r\n\r\n      }\r\n      else{\r\n        dialog.toggle=true;\r\n      }\r\n    },\r\n    $OptTestDialog: {\r\n      title: \"测试对话框\",\r\n      width: 600,\r\n      onConfirm: function () {\r\n        alert(\"你点击了确定\");\r\n      }\r\n    }\r\n  });\r\n  return avalon.controller(function ($ctrl) {\r\n    // 视图渲染后，意思是avalon.scan完成\r\n    $ctrl.$onRendered = function () {\r\n\r\n    };\r\n    // 进入视图\r\n    $ctrl.$onEnter = function (param, rs, rj) {\r\n\r\n    };\r\n    // 对应的视图销毁前\r\n    $ctrl.$onBeforeUnload = function () {\r\n\r\n    };\r\n    $ctrl.$vmodels = [vm];\r\n  })\r\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/about/about.js\n// module id = 58\n// module chunks = 8"],"sourceRoot":""}